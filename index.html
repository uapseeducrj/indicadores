<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Monitoramento Estrat√©gico</title>
    <style>
    :root {
        --color-primary: #003d7a; /* Azul Escuro Institucional - mais suave */
        --color-secondary: #64b5f6; /* Azul Claro - mais suave */
        --color-background-light: #e8f1f5; /* Fundo levemente azulado e mais claro */
        --color-text-dark: #424242; /* Cinza escuro para o texto principal */
        --color-text-light: #9e9e9e; /* Cinza m√©dio para o texto secund√°rio */
        --color-positive: #66bb6a; /* Verde (Dentro do esperado) - mais suave */
        --color-negative: #ef5350; /* Vermelho (Abaixo do esperado) - mais suave */
        --color-neutral: #ffca28; /* Amarelo (Em aten√ß√£o) - mais suave */
    }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--color-background-light);
            color: var(--color-text-dark);
        }
        
        .back-button {
            display: inline-block;
            margin-bottom: 20px;
            padding: 10px 15px;
            background-color: var(--color-secondary);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 600;
            transition: background-color 0.2s;
        }

        .back-button:hover {
            background-color: #1976D2;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ddd;
        }

        .header h1 {
            color: var(--color-primary);
            font-size: 32px;
            margin: 0;
        }
        
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* --- Vis√£o Consolidada por Status --- */
        .status-summary-container {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            margin-bottom: 30px;
            padding: 15px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
        }

        .status-summary-card {
            flex-grow: 1;
            text-align: center;
            padding: 10px 0;
            border-radius: 8px;
            color: #fff;
            font-weight: 600;
            transition: transform 0.2s;
            cursor: pointer;
            /* Adiciona flexbox para centralizar e organizar o conte√∫do (contagem, porcentagem, label) */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .status-summary-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .status-summary-card .count {
            font-size: 28px;
            font-weight: 800;
            line-height: 1;
            margin-bottom: 3px; /* Espa√ßo entre a contagem e a porcentagem/label */
        }
        
        .status-summary-card .percentage-label {
            font-size: 14px;
            font-weight: 500;
            line-height: 1;
            margin-bottom: 5px;
        }
        
        .status-summary-card .label {
            font-size: 14px;
            margin-top: 5px;
            font-weight: 700;
        }
        
        /* Ajuste para cores de texto da porcentagem */
        .status-summary-positive { background-color: var(--color-positive); }
        .status-summary-negative { background-color: var(--color-negative); }
        .status-summary-neutral { background-color: var(--color-neutral); color: var(--color-text-dark); }
        .status-summary-neutral .percentage-label { color: var(--color-text-dark); opacity: 0.8; }
        .status-summary-total { background-color: var(--color-secondary); }
        
        /* --- Estilos para o Objetivo Estrat√©gico (Acorde√£o) --- */
        .objective-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 3px 9px rgba(0, 0, 0, 0.1);
            margin-bottom: 15px;
            overflow: hidden;
            border: 1px solid #e0e0e0;
        }
        
        .objective-header {
            padding: 15px 20px; 
            background-color: var(--color-primary);
            color: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 18px; 
            font-weight: 600;
            cursor: pointer; 
            transition: background-color 0.2s;
        }
        
        .objective-header:hover {
            background-color: #003366;
        }

        /* Estilo para o conte√∫do que ser√° escondido */
        .objective-content {
            max-height: 0; /* Colapsado por padr√£o */
            overflow: hidden;
            transition: max-height 0.4s ease-out; /* Transi√ß√£o suave */
            padding: 0 20px;
        }

        /* Estilo para o conte√∫do quando expandido */
        .objective-container.expanded .objective-content {
            max-height: 1000px; /* Valor grande o suficiente para expandir */
            padding: 15px 20px 20px; /* Adiciona padding vertical ao expandir */
            border-top: 1px solid #eee;
        }

        /* Estilos dos itens de indicador dentro do acorde√£o */
        .objective-indicator-item {
            padding: 10px 0;
            border-bottom: 1px dashed #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            color: var(--color-text-dark); 
        }
        .objective-indicator-item:last-child {
            border-bottom: none;
        }
        .objective-indicator-item:hover {
            background-color: #f0f0f5;
            padding-left: 5px; 
        }
        
        /* --- Estilos para a Lista de Indicadores (P√°gina de Lista) --- */
        .indicator-list-view {
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 20px;
            padding: 0;
        }
        
        .indicator-card {
            background-color: #fff;
            border-radius: 6px; 
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
            padding: 15px; 
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            border-left: 4px solid var(--color-secondary);
        }

        .indicator-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
        }

        .indicator-card h2 {
            font-size: 16px; 
            margin-top: 0;
            margin-bottom: 5px;
            color: var(--color-text-dark);
            line-height: 1.2;
            min-height: 38px;
        }

        .indicator-card .summary-value {
            font-size: 24px; 
            font-weight: bold;
            margin-bottom: 2px;
            line-height: 1;
        }
        
        .status-badge {
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 10px; 
            font-weight: bold;
            color: #fff;
            text-align: center;
        }
        
        .status-positive { background-color: var(--color-positive); }
        .status-negative { background-color: var(--color-negative); }
        .status-neutral { background-color: var(--color-neutral); color: var(--color-text-dark);}

    </style>
</head>
<body>

    <div class="dashboard-container" id="dashboard-container">
        </div>

    <script>
        // BASE DE DADOS INTEGRADA
        const rawData = [
            { "OBJETIVO ESTRAT√âGICO": "Acesso √† Educa√ß√£o", "#": 1.1, "INDICADORES": "Taxa l√≠quida de matr√≠cula do ensino m√©dio regular no ERJ", "F√ìRMULA": "% da popula√ß√£o de 15 a 17 anos que frequenta o EM regular ou possui educa√ß√£o b√°sica completa no estado do RJ", "FONTE DOS DADOS": "PNADC", "RESPONS√ÅVEL": "SUPLAN ", "PERIODICIDADE DE MEDI√á√ÉO": "Trimestral", "GRANDEZA": "%", "POLARIDADE": "‚¨ÜÔ∏è", "Resultado Atual": 0.81, "Status": "Dentro do esperado", "valor": 0.83, "tipo_dado": "VALOR", "ano": 2024, "meta_2025": 0.85, "meta_2026": 0.88 },
            { "OBJETIVO ESTRAT√âGICO": "Infraestrutura", "#": 2.3, "INDICADORES": "Percentual de Escolas com Acessibilidade F√≠sica", "F√ìRMULA": "N√£o se aplica. Dados diretos de levantamento.", "FONTE DOS DADOS": "Censo Escolar", "RESPONS√ÅVEL": "SUBAD", "PERIODICIDADE DE MEDI√á√ÉO": "Semestral", "GRANDEZA": "%", "POLARIDADE": "‚¨ÜÔ∏è", "Resultado Atual": 0.159, "Status": "Dentro do esperado", "valor": 0.157, "tipo_dado": "VALOR", "ano": 2022, "meta_2025": 0.25, "meta_2026": 0.35 },
            { "OBJETIVO ESTRAT√âGICO": "Perman√™ncia", "#": 3.1, "INDICADORES": "Taxa de abandono EM", "F√ìRMULA": "Matr√≠culas que abandonaram a escola durante o ano letivo / Total de matr√≠culas no final do ano na situa√ß√£o Aprovado, Reprovado, Abandono * 100", "FONTE DOS DADOS": "Inep", "RESPONS√ÅVEL": "SUPLAN ", "PERIODICIDADE DE MEDI√á√ÉO": "Anual", "GRANDEZA": "%", "POLARIDADE": "‚¨áÔ∏è", "Resultado Atual": 0.023, "Status": "Em aten√ß√£o", "valor": 0.051, "tipo_dado": "VALOR", "ano": 2024, "meta_2025": 0.05, "meta_2026": 0.04 },
            { "OBJETIVO ESTRAT√âGICO": "Perman√™ncia", "#": 3.2, "INDICADORES": "Distor√ß√£o idade-s√©rie EM", "F√ìRMULA": "Matr√≠culas em atraso escolar / Total de matr√≠culas", "FONTE DOS DADOS": "Inep", "RESPONS√ÅVEL": "SUPLAN ", "PERIODICIDADE DE MEDI√á√ÉO": "Anual", "GRANDEZA": "%", "POLARIDADE": "‚¨áÔ∏è", "Resultado Atual": 0.34, "Status": "Em aten√ß√£o", "valor": 0.32, "tipo_dado": "VALOR", "ano": 2024, "meta_2025": 0.30, "meta_2026": 0.25 },
            { "OBJETIVO ESTRAT√âGICO": "Aprendizagem Equitativa", "#": 4.1, "INDICADORES": "IDEB", "F√ìRMULA": "Taxa de Aprova√ß√£o x M√©dia de Desempenho", "FONTE DOS DADOS": "Inep", "RESPONS√ÅVEL": "SUPAAD", "PERIODICIDADE DE MEDI√á√ÉO": "Bianual", "GRANDEZA": "N¬∫", "POLARIDADE": "‚¨ÜÔ∏è", "Resultado Atual": 3.9, "Status": "Abaixo do esperado", "valor": 4.1, "tipo_dado": "VALOR", "ano": 2023, "meta_2025": 4.5, "meta_2026": 4.8 },
            { "OBJETIVO ESTRAT√âGICO": "Aprendizagem Equitativa", "#": 4.2, "INDICADORES": "ENEM", "F√ìRMULA": "M√©dia de Desempenho da Rede Estadual no ENEM", "FONTE DOS DADOS": "Inep", "RESPONS√ÅVEL": "SUPAAD", "PERIODICIDADE DE MEDI√á√ÉO": "Anual", "GRANDEZA": "N¬∫", "POLARIDADE": "‚¨ÜÔ∏è", "Resultado Atual": 510.45, "Status": "Abaixo do esperado", "valor": 510.45, "tipo_dado": "VALOR", "ano": 2022, "meta_2025": 520, "meta_2026": 530 },
            { "OBJETIVO ESTRAT√âGICO": "Aprendizagem Equitativa", "#": 4.3, "INDICADORES": "Taxa de Aprova√ß√£o Ensino M√©dio", "F√ìRMULA": "N¬∫ de Alunos Aprovados no EM¬† / N¬∫ de Alunos Matriculados no EM", "FONTE DOS DADOS": "Inep", "RESPONS√ÅVEL": "SUPAAD", "PERIODICIDADE DE MEDI√á√ÉO": "Anual", "GRANDEZA": "%", "POLARIDADE": "‚¨ÜÔ∏è", "Resultado Atual": 0.882, "Status": "Abaixo do esperado", "valor": 0.882, "tipo_dado": "VALOR", "ano": 2022, "meta_2025": 0.95, "meta_2026": 0.95 },
            { "OBJETIVO ESTRAT√âGICO": "Regime de Colabora√ß√£o", "#": 7.3, "INDICADORES": "Alfabetiza√ß√£o na idade certa", "F√ìRMULA": "Œ£ de estudantes alfabetizados na idade certa / Œ£ de estudantes da rede estadual", "FONTE DOS DADOS": "Inep", "RESPONS√ÅVEL": "SUPIR", "PERIODICIDADE DE MEDI√á√ÉO": "Anual", "GRANDEZA": "%", "POLARIDADE": "‚¨ÜÔ∏è", "Resultado Atual": 0.35, "Status": "Em aten√ß√£o", "valor": 0.42, "tipo_dado": "VALOR", "ano": 2024, "meta_2025": 0.70, "meta_2026": 0.80 },
            { "OBJETIVO ESTRAT√âGICO": "Aprendizagem Equitativa", "#": 4.1, "INDICADORES": "IDEB", "F√ìRMULA": "Taxa de Aprova√ß√£o x M√©dia de Desempenho", "FONTE DOS DADOS": "Inep", "RESPONS√ÅVEL": "SUPAAD", "PERIODICIDADE DE MEDI√á√ÉO": "Bianual", "GRANDEZA": "N¬∫", "POLARIDADE": "‚¨ÜÔ∏è", "Resultado Atual": 3.9, "Status": "Abaixo do esperado", "valor": 3.4, "tipo_dado": "VALOR", "ano": 2019, "meta_2025": 4.5, "meta_2026": 4.8 },
            { "OBJETIVO ESTRAT√âGICO": "Aprendizagem Equitativa", "#": 4.1, "INDICADORES": "IDEB", "F√ìRMULA": "Taxa de Aprova√ß√£o x M√©dia de Desempenho", "FONTE DOS DADOS": "Inep", "RESPONS√ÅVEL": "SUPAAD", "PERIODICIDADE DE MEDI√á√ÉO": "Bianual", "GRANDEZA": "N¬∫", "POLARIDADE": "‚¨ÜÔ∏è", "Resultado Atual": 3.9, "Status": "Em aten√ß√£o", "valor": 3.9, "tipo_dado": "VALOR", "ano": 2021, "meta_2025": 4.5, "meta_2026": 4.8 },
            { "OBJETIVO ESTRAT√âGICO": "Acesso √† Educa√ß√£o", "#": 1.1, "INDICADORES": "Taxa l√≠quida de matr√≠cula do ensino m√©dio regular no ERJ", "F√ìRMULA": "% da popula√ß√£o de 15 a 17 anos que frequenta o EM regular ou possui educa√ß√£o b√°sica completa no estado do RJ", "FONTE DOS DADOS": "PNADC", "RESPONS√ÅVEL": "SUPLAN ", "PERIODICIDADE DE MEDI√á√ÉO": "Trimestral", "GRANDEZA": "%", "POLARIDADE": "‚¨ÜÔ∏è", "Resultado Atual": 0.81, "Status": "Dentro do esperado", "valor": 0.791, "tipo_dado": "VALOR", "ano": 2022, "meta_2025": 0.85, "meta_2026": 0.88 },
        ];


        // ------------------------------------------------------------------
        // RECURSOS COMPARTILHADOS (STORAGE, FORMATO, PROCESSAMENTO)
        // ------------------------------------------------------------------
        
        // **IMPORTANTE:** Salva a base de dados no localStorage para que o detalhe.html possa busc√°-la.
        localStorage.setItem('dashboardData', JSON.stringify(rawData));
        
        // Fun√ß√µes Auxiliares (Mantidas)
        function formatValue(value, grandeza) {
            if (value === null || value === undefined) return 'N/A';
            const isPercentage = grandeza === '%';
            if (isPercentage) {
                return (value * 100).toFixed(1) + '%';
            }
            return value.toLocaleString('pt-BR', { maximumFractionDigits: value > 100 ? 0 : 2 }) + (grandeza === 'N¬∫' ? '' : ' ' + grandeza);
        }

        function getStatusClass(status, isButton = false) {
            switch (status) {
                case 'Dentro do esperado': return isButton ? 'status-positive-btn' : 'status-positive';
                case 'Abaixo do esperado': return isButton ? 'status-negative-btn' : 'status-negative';
                case 'Em aten√ß√£o': return isButton ? 'status-neutral-btn' : 'status-neutral';
                default: return '';
            }
        }

        function getLatestIndicators(data) {
              return Object.values(data.reduce((acc, item) => {
                const indicatorKey = `${item.INDICADORES}|${item.GRANDEZA}`; 
                if (!acc[indicatorKey] || item.ano > acc[indicatorKey].ano) {
                    acc[indicatorKey] = item;
                }
                return acc;
            }, {}));
        }

        const latestIndicators = getLatestIndicators(rawData);


        // ------------------------------------------------------------------
        // FUN√á√ïES DE NAVEGA√á√ÉO
        // ------------------------------------------------------------------

        function navigate(path) {
            // Se a navega√ß√£o for para detalhes, redireciona para o arquivo detalhe.html
            if (path.startsWith('detalhe.html')) {
                window.location.href = path;
                return;
            }
            // Se for interna (no index.html), usa history.pushState
            history.pushState(null, '', path);
            router();
        }

        // ------------------------------------------------------------------
        // FUN√á√ïES DE RENDERIZA√á√ÉO DE P√ÅGINAS
        // ------------------------------------------------------------------
        
        // ##################################################################
        // P√ÅGINA 1: DASHBOARD PRINCIPAL (Com Acorde√£o)
        // ##################################################################
        function renderDashboard() {
            const container = document.getElementById('dashboard-container');
            container.innerHTML = `
                <div class="header">
                    <h1>Painel de Monitoramento Estrat√©gico</h1>
                    <p>Vis√£o de alto n√≠vel com os resultados dos indicadores mais recentes.</p>
                </div>
                <div id="status-summary-section"></div>
            `;
            
            // 1. Renderiza o resumo de status
            renderStatusSummary(latestIndicators);

            // 2. Agrupa e renderiza os objetivos 
            const objectivesMap = latestIndicators.reduce((acc, item) => {
                const objective = item["OBJETIVO ESTRAT√âGICO"];
                if (!acc[objective]) { acc[objective] = { name: objective, indicators: [] }; }
                acc[objective].indicators.push(item);
                return acc;
            }, {});

            Object.values(objectivesMap).forEach(objectiveData => {
                const objName = objectiveData.name;
                
                // Estrutura para o Acorde√£o
                const objCard = document.createElement('div');
                objCard.className = 'objective-container';
                
                // Conte√∫do dos indicadores colaps√°vel
                const indicatorsHTML = objectiveData.indicators.map(indicador => {
                    const formattedValue = formatValue(indicador.valor, indicador.GRANDEZA);
                    const statusClass = getStatusClass(indicador.Status);
                    
                    // CLIQUE NO INDICADOR DENTRO DO ACORDE√ÉO -> LEVA PARA detalhe.html
                    return `
                        <div 
                            class="objective-indicator-item"
                            onclick="navigate('detalhe.html?indicador=${encodeURIComponent(indicador.INDICADORES)}');"
                        >
                            <span style="font-weight: 500;">${indicador.INDICADORES}</span>
                            <div>
                                <span class="status-badge ${statusClass}">${indicador.Status}</span>
                                <span style="margin-left: 10px; font-weight: bold; color: var(--color-primary);">${formattedValue}</span>
                            </div>
                        </div>
                    `;
                }).join('');

                objCard.innerHTML = `
                    <div class="objective-header" onclick="toggleObjective(this)">
                        <span>üéØ ${objName}</span>
                        <span id="toggle-icon-${objName.replace(/\s/g, '-')}" style="font-size: 16px;">‚ñ∂</span>
                    </div>
                    <div class="objective-content">
                        ${indicatorsHTML}
                    </div>
                `;
                container.appendChild(objCard);
            });
        }
        
        // Fun√ß√£o para controlar a expans√£o/contra√ß√£o do objetivo
        function toggleObjective(headerElement) {
            const container = headerElement.closest('.objective-container');
            const icon = headerElement.querySelector('span[id^="toggle-icon-"]');
            
            container.classList.toggle('expanded');
            
            if (container.classList.contains('expanded')) {
                icon.textContent = '‚ñº'; // Seta para baixo quando expandido
            } else {
                icon.textContent = '‚ñ∂'; // Seta para a direita quando colapsado
            }
        }


        function countIndicatorsByStatus(indicators) {
            // Apenas indicadores com um dos 3 status s√£o contados
            const counts = { 'Dentro do esperado': 0, 'Abaixo do esperado': 0, 'Em aten√ß√£o': 0, };
            indicators.forEach(indicator => {
                if (counts.hasOwnProperty(indicator.Status)) { counts[indicator.Status]++; }
            });
            counts.Total = indicators.length;
            return counts;
        }

        // FUN√á√ÉO ATUALIZADA para exibir a porcentagem nos cards
        function renderStatusSummary(indicators) {
            const statusCounts = countIndicatorsByStatus(indicators);
            // IMPORTANTE: O total √© baseado apenas nos indicadores mais recentes e com status monitorado
            const totalIndicators = statusCounts['Dentro do esperado'] + statusCounts['Abaixo do esperado'] + statusCounts['Em aten√ß√£o'];

            const summarySection = document.getElementById('status-summary-section');
            const container = document.createElement('div');
            container.className = 'status-summary-container';

            const statusMap = [
                { status: 'Dentro do esperado', label: 'Dentro da Meta', className: 'status-summary-positive' },
                { status: 'Em aten√ß√£o', label: 'Em Aten√ß√£o', className: 'status-summary-neutral' },
                { status: 'Abaixo do esperado', label: 'Abaixo da Meta', className: 'status-summary-negative' },
                { status: 'Total', label: 'Total de Indicadores', className: 'status-summary-total' },
            ];

            statusMap.forEach(item => {
                const count = statusCounts[item.status] || 0;
                let percentageHTML = '';

                // Calcula e exibe a porcentagem APENAS se o total for maior que zero e n√£o for o card Total
                if (item.status !== 'Total' && totalIndicators > 0) {
                    const percentage = ((count / totalIndicators) * 100).toFixed(1);
                    // O estilo da porcentagem foi ajustado no CSS para melhor visualiza√ß√£o
                    percentageHTML = `<div class="percentage-label" style="font-size: 14px; opacity: 0.8;">(${percentage}%)</div>`;
                }

                const card = document.createElement('div');
                card.className = `status-summary-card ${item.className}`;
                
                // Estrutura do card com a porcentagem
                card.innerHTML = `
                    <div class="count">${count}</div>
                    ${percentageHTML}
                    <div class="label">${item.label}</div>
                `;

                if (item.status !== 'Total' && count > 0) {
                    card.onclick = () => navigate(`?page=list&status=${encodeURIComponent(item.status)}`);
                } else if (item.status === 'Total') {
                    card.onclick = () => navigate(`?page=list&status=Todos`);
                }

                container.appendChild(card);
            });

            summarySection.appendChild(container);
        }

        // ##################################################################
        // P√ÅGINA 2: LISTA DE INDICADORES POR STATUS
        // ##################################################################
        function renderStatusList(status) {
            const container = document.getElementById('dashboard-container');
            const indicadoresFiltrados = status === 'Todos' 
                ? latestIndicators
                : latestIndicators.filter(i => i.Status === status);

            container.innerHTML = `
                <a href="#" onclick="navigate('?page=dashboard'); return false;" class="back-button">‚Üê Voltar ao Dashboard</a>
                <div class="header" style="text-align: left;">
                    <h1 style="font-size: 28px; margin-bottom: 5px;">Indicadores: ${status}</h1>
                    <p style="text-align: left;">Total de ${indicadoresFiltrados.length} indicador(es) no status <strong>${status}</strong>.</p>
                </div>
                <div class="indicator-list-view">
                    ${indicadoresFiltrados.map(indicador => {
                        const formattedValue = formatValue(indicador.valor, indicador.GRANDEZA);
                        const statusClass = getStatusClass(indicador.Status);
                        
                        // CLIQUE NO INDICADOR NA LISTA -> LEVA PARA detalhe.html
                        return `
                            <div class="indicator-card" onclick="navigate('detalhe.html?indicador=${encodeURIComponent(indicador.INDICADORES)}');">
                                <div>
                                    <h2 title="${indicador.INDICADORES}">${indicador.INDICADORES}</h2>
                                    <span style="font-size: 12px; color: var(--color-text-light);">${indicador['OBJETIVO ESTRAT√âGICO']}</span>
                                </div>
                                <div style="margin-top: 10px;">
                                    <div class="summary-value" style="color: ${statusClass === 'status-negative' ? 'var(--color-negative)' : (statusClass === 'status-neutral' ? 'var(--color-neutral)' : 'var(--color-primary)')};">
                                        ${formattedValue}
                                    </div>
                                    <span style="font-size: 11px; color: var(--color-text-light);">Refer√™ncia: ${indicador.ano}</span>
                                </div>
                                <div style="margin-top: 10px; padding-top: 5px; border-top: 1px solid #eee;">
                                    <span class="status-badge ${statusClass}">${indicador.Status}</span>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }


        // ------------------------------------------------------------------
        // ROTEADOR
        // ------------------------------------------------------------------
        function router() {
            const urlParams = new URLSearchParams(window.location.search);
            const page = urlParams.get('page') || 'dashboard'; // Padr√£o √© 'dashboard'

            switch (page) {
                case 'dashboard':
                    renderDashboard();
                    break;
                case 'list':
                    const status = urlParams.get('status');
                    renderStatusList(status);
                    break;
                default:
                    renderDashboard();
            }
        }

        document.addEventListener('DOMContentLoaded', router);
        window.addEventListener('popstate', router);
    </script>
</body>
</html>